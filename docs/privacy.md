# Privacy 

CBDC의 거래 시 마치 현금과 같은 익명성을 보장할 수 있는 시스템 개발

그러나 금융 당국의 법적 요청에 의해서는 자금세탁, 불법자금, 탈세 등을 방지하기 위해 식별화가 가능해야함

프라이버시를 보존하는 방식에는 크게 다음과 같은 두 가지가 있음

- 1) Ledger Privacy : Ledger에서 트랜잭션을 익명화 시켜 프라이버시를 보존하는 방법
- 2) Oracle Privacy : Off-chain의 정보를 On-chain으로 전달하는 과정(ex. 트랜잭션을 생성하는 과정)에서 발생할 수 있는 정보 유출 방지

1)과 관련된 프로젝트는 ZeroCash, Monero, zkLedger 등 다양한 프라이버시 프로젝트가 존재함.

즉, Ledger 상에서 데이터를 암호화하거나, Transaction graph를 감추는 연구들은 존재함.

그렇기에 2)와 관련된 내용에 좀 더 집중하고자 함.

# Requirement

- 추적가능한 익명성 : 특정 기관의 요청, 권한에 의해 Auditing이 가능해야함
- Proof 생성 : 암호화된 상태의 거래 정보에 대해 은행이 유효한 거래인지 검증이 가능해야함(송금하는 양이 잔고보다 적은가, 새로운 값이 생성되거나 사라지는가)


# Treat Model

- 은행이 개인의 월렛을 발행한다고 가정함 (콜드월렛이든 핫월렛이든)
- Online 상황에 대해서만을 고려하고 Offline 상황(재난에 의한 네트워크 정전, 격오지에서 현금과 같은 거래 등)은 고려하지 않음. 
- 트랜잭션 생성 시 은행을 거쳐서 Ledger에 기록 된다고 가정함. (P2P 거래 제외)

# 시나리오 

개인이 어떤 종류의 CBDC 월렛을 가지냐에 따라 경우가 크게 나뉨

- Hot Wallet : 기존 거래소 시스템과 유사하게 은행이 고객의 키 관리를 전담
- Cold Wallet : 개인키를 은행으로 부터 발급 받고, 개인 디바이스 같은 곳에 저장 및 관리

그로인해 *개인이 핫월렛을 통해 CBDC 거래* 와 *개인이 콜드월렛을 통해 CBDC 거래* 하는 두가지 경우가 나뉨

# 개인 유저가 Private하게 숨기고 싶은 정보

- 현재 내 지갑의 Balance
- 생성하는 TX의 정보 (To, From, Amount)

현재 Treat 모델의 경우 은행이 반드시 거래에 영향을 끼쳐야 함 (AML, KYC 등을 위하여 TX 생성에 관여 해야함)

TX의 정보를 모른 채, ZKP로 확인하고 싶은 정보

- 현재 보내거나(From) 받는(To) 주소가 블랙리스트의 지갑 주소인가? 해외로 송금되는가? 
- 보는 CBDC 양(Amount)에 이상이 있는가? (갑자기 큰 금액이 송금될 경우 이상 트랜잭션으로 감지 

CBDC를 보낼 경우 그 금액에 따라 추가적인 Multi-factor Authentication을 진행하도록 함

예를 들어 1000만원 이하는 비밀번호만 요구, 1000만원 이상은 바이오 인증만 진행



# 기타

- Ledger에 기록되는 내용은 모든 개별 Tx 기록들이 저장되어야하는가? 일정 기준을 충족한 기록만 남아야하는가?
- 개인이 직접 Ledger에다 트랜잭션을 기록할 수 있어야하는가(P2P 거래가 가능해야하는가)? 은행을 거쳐야만 하는가?
- 키를 몇개를 생성해야하는가? 코인원 같은 경우에는 유저가 키 2개(유저키, 백업키) 소유하고, 거래소에서 1개 한개 갖고 있으며 Multi-sig 구조를 취하던데..
- Privacy preservin exchanges 들에 대한 관련 조사를 해보면 아이디어가 떠오를 듯

